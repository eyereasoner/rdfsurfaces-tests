@prefix : <urn:example:> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .

# Example by DÃ¶rthe Arndt
# Elimination of disjunction is a form of a tautology of the form
#
# (P -> Q) . (R -> Q ) . (P v R ) |- Q
#
# Proof:
# 
# |- ~(P . ~Q) . ~(R . ~Q) . ~(~P . ~R) 
# |- ~( ~(~P . ~R) . ~Q ) . ~(~P . ~R)
# |- (P v R)->Q . (P v R)
# Here follows Q
:Beetle a :Car .
() log:nand {
    :Beetle :is :blue . 
} .

(_:S) log:nand {
    # P
    _:S :is :green.

    () log:nand {
        # -> Q
        _:S :is :beautiful .
    } .
} .

(_:S) log:nand {
    # R
    _:S :is :blue.

    () log:nand {
        # -> Q
        _:S :is :beautiful .
    } .
} .

(_:S) log:nand {
    # Need to match something in the data to trigger the rules
    _:S a :Car.

    # P
    () log:nand {
        _:S :is :green . 
    } .

    # OR R
    () log:nand {
        _:S :is :blue . 
    } .
} .

# In reasoners that support disjunction via contrapositives
# we can at least check that denying the conclusion (Q) 
# will lead to a inconsistency (the reasoner should burn
# a logical fuse).

# The negation of the conclusion should blow an inference fuse
# ~Q (!?)
#() log:nand {
#    :Beetle :is :beautiful .
#} .

# When a full disjunction elimintation is supported 
# in a reasoner, this also needs to work. 
# 
## Test
() log:nand {
    :Beetle :is :beautiful .
    
    () log:nand {
        :test :is true .
    } .
} .

{ :test :is true } log:query { :test :is true } .
